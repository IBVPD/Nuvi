<?php

namespace Application\Migrations;

use Doctrine\DBAL\Migrations\AbstractMigration;
use Doctrine\DBAL\Schema\Schema;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
class Version20160310110342 extends AbstractMigration
{
    /**
     * @param Schema $schema
     */
    public function up(Schema $schema)
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('DROP INDEX rotavirus_site_case_id_idx ON rotavirus_cases');
        $this->addSql('ALTER TABLE rotavirus_cases CHANGE caseid case_id VARCHAR(255) NOT NULL,  CHANGE age age_months INT DEFAULT NULL,  CHANGE admdate adm_date DATE DEFAULT NULL, CHANGE symptomDiarrhea symp_diarrhea INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE symptomDiarrheaOnset symp_dia_onset_date DATE DEFAULT NULL, CHANGE symptomDiarrheaEpisodes symp_dia_episodes INT DEFAULT NULL, CHANGE symptomDiarrheaDuration symp_dia_duration INT DEFAULT NULL, CHANGE symptomVomit symp_vomit INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE symptomVomitEpisodes symp_vomit_episodes INT DEFAULT NULL, CHANGE symptomVomitDuration symp_vomit_duration INT DEFAULT NULL, CHANGE rehydrationOther rehydration_other VARCHAR(255) DEFAULT NULL, CHANGE firstVaccinationDose rv_dose1_date DATE DEFAULT NULL, CHANGE secondVaccinationDose rv_dose2_date DATE DEFAULT NULL, CHANGE thirdVaccinationDose rv_dose3_date DATE DEFAULT NULL, CHANGE stoolCollected stool_collected INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE stoolId stool_id VARCHAR(255) DEFAULT NULL, CHANGE stoolCollectionDate stool_collect_date DATE DEFAULT NULL, CHANGE dischargeDate disch_date DATE DEFAULT NULL, CHANGE dischargeClassOther disch_class_other VARCHAR(255) DEFAULT NULL, DROP symptomDehydration, CHANGE symptomdehydrationamount symp_dehydration INT DEFAULT NULL COMMENT \'(DC2Type:Dehydration)\', CHANGE rehydrationtype rehydration_type INT DEFAULT NULL COMMENT \'(DC2Type:Rehydration)\', CHANGE vaccinationreceived rv_received INT DEFAULT NULL COMMENT \'(DC2Type:RotavirusVaccinationReceived)\', CHANGE vaccinationtype rv_type INT DEFAULT NULL COMMENT \'(DC2Type:RotavirusVaccinationType)\', CHANGE doses rv_doses INT DEFAULT NULL COMMENT \'(DC2Type:ThreeDoses)\', CHANGE dischargeoutcome disch_outcome INT DEFAULT NULL COMMENT \'(DC2Type:RotavirusDischargeOutcome)\'');
        $this->addSql('CREATE UNIQUE INDEX rotavirus_site_case_id_idx ON rotavirus_cases (site_id, case_id)');
        
        $this->addSql('DROP INDEX ibd_site_case_id_idx ON ibd_cases');
        $this->addSql('ALTER TABLE ibd_cases CHANGE onsetDate onset_date DATE DEFAULT NULL, CHANGE admDxOther adm_dx_other VARCHAR(255) DEFAULT NULL, CHANGE menSeizures men_seizures INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menFever men_fever INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menAltConscious men_alt_conscious INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menInabilityFeed men_inability_feed INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menNeckStiff men_neck_stiff INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menRash men_rash INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menFontanelleBulge men_fontanelle_bulge INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE menLethargy men_lethargy INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuDiffBreathe pneu_diff_breathe INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuChestIndraw pneu_chest_indraw INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuCough pneu_cough INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuCyanosis pneu_cyanosis INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuStridor pneu_stridor INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuRespRate pneu_resp_rate INT DEFAULT NULL, CHANGE pneuVomit pneu_vomit INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuHypothermia pneu_hypothermia INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneuMalnutrition pneu_malnutrition INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE cxrDone cxr_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE hibReceived hib_received INT DEFAULT NULL COMMENT \'(DC2Type:VaccinationReceived)\', CHANGE hibDoses hib_doses INT DEFAULT NULL COMMENT \'(DC2Type:FourDoses)\', CHANGE hibMostRecentDose hib_most_recent_dose DATE DEFAULT NULL, CHANGE pcvReceived pcv_received INT DEFAULT NULL COMMENT \'(DC2Type:VaccinationReceived)\', CHANGE pcvDoses pcv_doses INT DEFAULT NULL COMMENT \'(DC2Type:FourDoses)\', CHANGE pcvMostRecentDose pcv_most_recent_dose DATE DEFAULT NULL, CHANGE meningReceived mening_received INT DEFAULT NULL COMMENT \'(DC2Type:VaccinationReceived)\', CHANGE meningMostRecentDose mening_date DATE DEFAULT NULL, CHANGE csfCollected csf_collected INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csfCollectDateTime csf_collect_date DATE DEFAULT NULL, ADD csf_collect_time TIME DEFAULT NULL, CHANGE bloodCollected blood_collected INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE bloodCollectDate blood_collect_date DATE DEFAULT NULL, CHANGE otherSpecimenOther other_specimen_other VARCHAR(255) DEFAULT NULL, CHANGE dischDxOther disch_dx_other VARCHAR(255) DEFAULT NULL, CHANGE dischClassOther disch_class_other VARCHAR(255) DEFAULT NULL, CHANGE age age_months INT DEFAULT NULL, CHANGE admDate adm_date DATE DEFAULT NULL, CHANGE admdx adm_dx INT DEFAULT NULL COMMENT \'(DC2Type:Diagnosis)\', CHANGE cxrresult cxr_result INT DEFAULT NULL COMMENT \'(DC2Type:CXRResult)\', CHANGE cxradditionalresult cxr_additional_result INT DEFAULT NULL COMMENT \'(DC2Type:CXRAdditionalResult)\', CHANGE pcvtype pcv_type INT DEFAULT NULL COMMENT \'(DC2Type:PCVType)\', CHANGE meningtype mening_type INT DEFAULT NULL COMMENT \'(DC2Type:MeningitisVaccinationType)\', CHANGE csfappearance csf_appearance INT DEFAULT NULL COMMENT \'(DC2Type:CSFAppearance)\', CHANGE otherspecimencollected other_specimen_collected INT DEFAULT NULL COMMENT \'(DC2Type:OtherSpecimen)\', CHANGE dischoutcome disch_outcome INT DEFAULT NULL COMMENT \'(DC2Type:DischargeOutcome)\', CHANGE dischdx disch_dx INT DEFAULT NULL COMMENT \'(DC2Type:DischargeDiagnosis)\', CHANGE dischclass disch_class INT DEFAULT NULL COMMENT \'(DC2Type:DischargeClassification)\', CHANGE caseid case_id VARCHAR(255) NOT NULL');
        $this->addSql('CREATE UNIQUE INDEX ibd_site_case_id_idx ON ibd_cases (site_id,  case_id)');

        $this->addSql('ALTER TABLE ibd_site_labs CHANGE csfSentToRRLDate rl_csf_date DATE DEFAULT NULL, CHANGE csfIsolSentToRRLDate rl_isol_csf_date DATE DEFAULT NULL, CHANGE bloodIsolSentToRRLDate rl_isol_blood_date DATE DEFAULT NULL, CHANGE brothSentToRRLDate rl_broth_date DATE DEFAULT NULL, CHANGE csfDateTime csf_lab_date DATE DEFAULT NULL, ADD csf_lab_time TIME DEFAULT NULL, CHANGE csfId csf_id VARCHAR(255) DEFAULT NULL, CHANGE bloodId blood_id VARCHAR(255) DEFAULT NULL, CHANGE csfWcc csf_wcc INT DEFAULT NULL, CHANGE csfGlucose csf_glucose INT DEFAULT NULL, CHANGE csfProtein csf_protein INT DEFAULT NULL, CHANGE csfCultDone csf_cult_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csfGramDone csf_gram_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csfBinaxDone csf_binax_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csfLatDone csf_lat_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csfPcrDone csf_pcr_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csfCultResult csf_cult_result INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE csfCultOther csf_cult_other VARCHAR(255) DEFAULT NULL, CHANGE csfCultContaminant csf_cult_contaminant VARCHAR(255) DEFAULT NULL, CHANGE csfGramStain csf_gram_stain INT DEFAULT NULL COMMENT \'(DC2Type:GramStain)\', CHANGE csfGramResult csf_gram_result INT DEFAULT NULL COMMENT \'(DC2Type:GramStainResult)\', CHANGE csfGramOther csf_gram_other VARCHAR(255) DEFAULT NULL, CHANGE csfLatOther csf_lat_other VARCHAR(255) DEFAULT NULL, CHANGE csfPcrResult csf_pcr_result INT DEFAULT NULL COMMENT \'(DC2Type:PCRResult)\', CHANGE csfPcrOther csf_pcr_other VARCHAR(255) DEFAULT NULL, CHANGE csfStore csf_store INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE isolStore isol_store INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', DROP spnSerotypeOther, DROP hiSerotypeOther, DROP nmSerogroupOther, CHANGE bloodCultDone blood_cult_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE bloodGramDone blood_gram_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE bloodPcrDone blood_pcr_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE otherCultDone other_cult_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE otherCultResult other_cult_result INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE otherCultOther other_cult_other VARCHAR(255) DEFAULT NULL, CHANGE otherTestDone other_test_done INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE otherTestResult other_test_result INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE otherTestOther other_test_other VARCHAR(255) DEFAULT NULL, CHANGE bloodCultResult blood_cult_result INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE bloodCultOther blood_cult_other VARCHAR(255) DEFAULT NULL, CHANGE bloodGramStain blood_gram_stain INT DEFAULT NULL COMMENT \'(DC2Type:GramStain)\', CHANGE bloodGramResult blood_gram_result INT DEFAULT NULL COMMENT \'(DC2Type:GramStainResult)\', CHANGE bloodGramOther blood_gram_other VARCHAR(255) DEFAULT NULL, CHANGE bloodPcrResult blood_pcr_result INT DEFAULT NULL COMMENT \'(DC2Type:PCRResult)\', CHANGE bloodPcrOther blood_pcr_other VARCHAR(255) DEFAULT NULL, CHANGE csfbinaxresult csf_binax_result INT DEFAULT NULL COMMENT \'(DC2Type:BinaxResult)\', CHANGE csflatresult csf_lat_result INT DEFAULT NULL COMMENT \'(DC2Type:LatResult)\', DROP spnserotype, DROP hiserotype, DROP nmserogroup');

        $this->addSql('ALTER TABLE rota_reference_labs DROP FOREIGN KEY FK_BC5C4EE1628913D5');
        $this->addSql('DROP INDEX IDX_BC5C4EE1628913D5 ON rota_reference_labs');
        $this->addSql('ALTER TABLE rota_reference_labs CHANGE lab_id rrl_id VARCHAR(255) DEFAULT NULL, CHANGE labId lab_id VARCHAR(255) DEFAULT NULL,CHANGE dateReceived dt_sample_recd DATE DEFAULT NULL, CHANGE genotypingDate dt_gt DATE DEFAULT NULL, CHANGE genotypingResultGSpecify gt_result_g_specify VARCHAR(255) DEFAULT NULL, CHANGE genotypeResultPSpecify gt_result_p_specify VARCHAR(255) DEFAULT NULL, DROP genotypeResultSentToCountry, DROP genotypeResultSentToWHO, CHANGE genotypingresultg gt_result_g INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultG)\', CHANGE genotyperesultp gt_result_p INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultP)\', CHANGE pcrvp6result pcr_vp6_result INT DEFAULT NULL COMMENT \'(DC2Type:ElisaResult)\'');
        $this->addSql('ALTER TABLE rota_reference_labs ADD CONSTRAINT FK_BC5C4EE19CCAEA5F FOREIGN KEY (rrl_id) REFERENCES reference_labs (id)');
        $this->addSql('CREATE INDEX IDX_BC5C4EE19CCAEA5F ON rota_reference_labs (rrl_id)');

        $this->addSql('ALTER TABLE rota_national_labs CHANGE labId lab_id VARCHAR(255) DEFAULT NULL,CHANGE dateReceived dt_sample_recd DATE DEFAULT NULL, CHANGE genotypingDate dt_gt DATE DEFAULT NULL, CHANGE genotypingResultGSpecify gt_result_g_specify VARCHAR(255) DEFAULT NULL, CHANGE genotypeResultPSpecify gt_result_p_specify VARCHAR(255) DEFAULT NULL, DROP genotypeResultSentToCountry, DROP genotypeResultSentToWHO, CHANGE genotypingresultg gt_result_g INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultG)\', CHANGE genotyperesultp gt_result_p INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultP)\', CHANGE pcrvp6result pcr_vp6_result INT DEFAULT NULL COMMENT \'(DC2Type:ElisaResult)\'');

        $this->addSql('ALTER TABLE ibd_reference_labs DROP FOREIGN KEY FK_C975A0E2628913D5');
        $this->addSql('DROP INDEX IDX_C975A0E2628913D5 ON ibd_reference_labs');
        $this->addSql('ALTER TABLE ibd_reference_labs CHANGE lab_id rrl_id VARCHAR(255) DEFAULT NULL, CHANGE labId lab_id VARCHAR(255) DEFAULT NULL, CHANGE sampleCollectionDate sample_collection_date DATE DEFAULT NULL, CHANGE dateReceived dt_sample_recd DATE DEFAULT NULL, CHANGE pathogenIdentifierOther method_used_pathogen_identify_other VARCHAR(255) DEFAULT NULL, CHANGE serotypeIdentifierOther method_used_st_sg_other VARCHAR(255) DEFAULT NULL, CHANGE sampletype type_sample_recd INT DEFAULT NULL COMMENT \'(DC2Type:SampleType)\', CHANGE isolateviable isolate_viable INT DEFAULT NULL COMMENT \'(DC2Type:IsolateViable)\', CHANGE isolatetype isolate_type INT DEFAULT NULL COMMENT \'(DC2Type:IsolateType)\', CHANGE pathogenidentifiermethod method_used_pathogen_identify INT DEFAULT NULL COMMENT \'(DC2Type:PathogenIdentifier)\', CHANGE serotypeidentifier method_used_st_sg INT DEFAULT NULL COMMENT \'(DC2Type:SerotypeIdentifier)\', CHANGE spnserotype spn_serotype INT DEFAULT NULL COMMENT \'(DC2Type:SpnSerotype)\', CHANGE hiserotype hi_serotype INT DEFAULT NULL COMMENT \'(DC2Type:HiSerotype)\', CHANGE nmserogroup nm_serogroup INT DEFAULT NULL COMMENT \'(DC2Type:NmSerogroup)\', CHANGE lytA Spn_lytA NUMERIC(3, 1) DEFAULT NULL, CHANGE ctrA Nm_ctrA NUMERIC(3, 1) DEFAULT NULL, CHANGE sodC nm_sodC NUMERIC(3, 1) DEFAULT NULL, CHANGE hpd1 hi_hpd1 NUMERIC(3, 1) DEFAULT NULL, CHANGE hpd3 hi_hpd3 NUMERIC(3, 1) DEFAULT NULL, CHANGE bexA hi_bexA NUMERIC(3, 1) DEFAULT NULL, CHANGE rNaseP humanDNA_RNAseP NUMERIC(3, 1) DEFAULT NULL, CHANGE finalresult final_RL_result_detection INT DEFAULT NULL COMMENT \'(DC2Type:FinalResult)\'');
        $this->addSql('ALTER TABLE ibd_reference_labs ADD CONSTRAINT FK_C975A0E29CCAEA5F FOREIGN KEY (rrl_id) REFERENCES reference_labs (id)');
        $this->addSql('CREATE INDEX IDX_C975A0E29CCAEA5F ON ibd_reference_labs (rrl_id)');

        $this->addSql('ALTER TABLE ibd_national_labs CHANGE labId lab_id VARCHAR(255) DEFAULT NULL, CHANGE sampleCollectionDate sample_collection_date DATE DEFAULT NULL, CHANGE dateReceived dt_sample_recd DATE DEFAULT NULL, CHANGE pathogenIdentifierOther method_used_pathogen_identify_other VARCHAR(255) DEFAULT NULL, CHANGE serotypeIdentifierOther method_used_st_sg_other VARCHAR(255) DEFAULT NULL, CHANGE sampletype type_sample_recd INT DEFAULT NULL COMMENT \'(DC2Type:SampleType)\', CHANGE isolateviable isolate_viable INT DEFAULT NULL COMMENT \'(DC2Type:IsolateViable)\', CHANGE isolatetype isolate_type INT DEFAULT NULL COMMENT \'(DC2Type:IsolateType)\', CHANGE pathogenidentifiermethod method_used_pathogen_identify INT DEFAULT NULL COMMENT \'(DC2Type:PathogenIdentifier)\', CHANGE serotypeidentifier method_used_st_sg INT DEFAULT NULL COMMENT \'(DC2Type:SerotypeIdentifier)\', CHANGE spnserotype spn_serotype INT DEFAULT NULL COMMENT \'(DC2Type:SpnSerotype)\', CHANGE hiserotype hi_serotype INT DEFAULT NULL COMMENT \'(DC2Type:HiSerotype)\', CHANGE nmserogroup nm_serogroup INT DEFAULT NULL COMMENT \'(DC2Type:NmSerogroup)\', CHANGE lytA Spn_lytA NUMERIC(3, 1) DEFAULT NULL, CHANGE ctrA Nm_ctrA NUMERIC(3, 1) DEFAULT NULL, CHANGE sodC nm_sodC NUMERIC(3, 1) DEFAULT NULL, CHANGE hpd1 hi_hpd1 NUMERIC(3, 1) DEFAULT NULL, CHANGE hpd3 hi_hpd3 NUMERIC(3, 1) DEFAULT NULL, CHANGE bexA hi_bexA NUMERIC(3, 1) DEFAULT NULL, CHANGE rNaseP humanDNA_RNAseP NUMERIC(3, 1) DEFAULT NULL, CHANGE finalresult final_RL_result_detection INT DEFAULT NULL COMMENT \'(DC2Type:FinalResult)\'');
    }

    /**
     * @param Schema $schema
     */
    public function down(Schema $schema)
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() != 'mysql',  'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('DROP INDEX ibd_site_case_id_idx ON ibd_cases');
        $this->addSql('ALTER TABLE ibd_cases CHANGE onset_date onsetDate DATE DEFAULT NULL, CHANGE adm_dx_other admDxOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE men_seizures menSeizures INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_fever menFever INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_alt_conscious menAltConscious INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_inability_feed menInabilityFeed INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_neck_stiff menNeckStiff INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_rash menRash INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_fontanelle_bulge menFontanelleBulge INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE men_lethargy menLethargy INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_diff_breathe pneuDiffBreathe INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_chest_indraw pneuChestIndraw INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_cough pneuCough INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_cyanosis pneuCyanosis INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_stridor pneuStridor INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_resp_rate pneuRespRate INT DEFAULT NULL, CHANGE pneu_vomit pneuVomit INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_hypothermia pneuHypothermia INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE pneu_malnutrition pneuMalnutrition INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE cxr_done cxrDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE hib_received hibReceived INT DEFAULT NULL COMMENT \'(DC2Type:VaccinationReceived)\', CHANGE hib_doses hibDoses INT DEFAULT NULL COMMENT \'(DC2Type:FourDoses)\', CHANGE hib_most_recent_dose  hibMostRecentDose DATE DEFAULT NULL, CHANGE pcv_received pcvReceived INT DEFAULT NULL COMMENT \'(DC2Type:VaccinationReceived)\', CHANGE pcv_doses pcvDoses INT DEFAULT NULL COMMENT \'(DC2Type:FourDoses)\', CHANGE pcv_most_recent_dose pcvMostRecentDose DATE DEFAULT NULL, CHANGE mening_received meningReceived INT DEFAULT NULL COMMENT \'(DC2Type:VaccinationReceived)\', CHANGE mening_date meningMostRecentDose DATE DEFAULT NULL, CHANGE csf_collected csfCollected INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csf_collect_date csfCollectDateTime DATETIME DEFAULT NULL, CHANGE blood_collected bloodCollected INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE blood_collect_date bloodCollectDate DATE DEFAULT NULL, CHANGE other_specimen_other otherSpecimenOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE disch_dx_other dischDxOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE disch_class_other dischClassOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE age_months age INT DEFAULT NULL, CHANGE adm_date admDate DATE DEFAULT NULL, DROP csf_collect_time, CHANGE adm_dx admDx INT DEFAULT NULL COMMENT \'(DC2Type:Diagnosis)\', CHANGE cxr_result cxrResult INT DEFAULT NULL COMMENT \'(DC2Type:CXRResult)\', CHANGE cxr_additional_result cxrAdditionalResult INT DEFAULT NULL COMMENT \'(DC2Type:CXRAdditionalResult)\', CHANGE pcv_type pcvType INT DEFAULT NULL COMMENT \'(DC2Type:PCVType)\', CHANGE mening_type meningType INT DEFAULT NULL COMMENT \'(DC2Type:MeningitisVaccinationType)\', CHANGE csf_appearance csfAppearance INT DEFAULT NULL COMMENT \'(DC2Type:CSFAppearance)\', CHANGE other_specimen_collected otherSpecimenCollected INT DEFAULT NULL COMMENT \'(DC2Type:OtherSpecimen)\', CHANGE disch_outcome dischOutcome INT DEFAULT NULL COMMENT \'(DC2Type:DischargeOutcome)\', CHANGE disch_dx dischDx INT DEFAULT NULL COMMENT \'(DC2Type:DischargeDiagnosis)\', CHANGE disch_class dischClass INT DEFAULT NULL COMMENT \'(DC2Type:DischargeClassification)\', CHANGE case_id caseId VARCHAR(255) NOT NULL COLLATE utf8_unicode_ci');
        $this->addSql('CREATE UNIQUE INDEX ibd_site_case_id_idx ON ibd_cases (site_id,caseId)');
        $this->addSql('DROP INDEX rotavirus_site_case_id_idx ON rotavirus_cases');
        $this->addSql('ALTER TABLE rotavirus_cases CHANGE case_id caseId VARCHAR(255) NOT NULL COLLATE utf8_unicode_ci, CHANGE age_months age INT DEFAULT NULL, CHANGE adm_date admDate DATE DEFAULT NULL, CHANGE symp_diarrhea symptomDiarrhea INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE symp_dia_onset_date symptomDiarrheaOnset DATE DEFAULT NULL, CHANGE symp_dia_episodes symptomDiarrheaEpisodes INT DEFAULT NULL, CHANGE symp_dia_duration symptomDiarrheaDuration INT DEFAULT NULL, CHANGE symp_vomit symptomVomit INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE symp_vomit_episodes symptomVomitEpisodes INT DEFAULT NULL, CHANGE symp_vomit_duration symptomVomitDuration INT DEFAULT NULL, ADD symptomDehydration INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE rehydration_other rehydrationOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE rv_dose1_date firstVaccinationDose DATE DEFAULT NULL, CHANGE rv_dose2_date secondVaccinationDose DATE DEFAULT NULL, CHANGE rv_dose3_date thirdVaccinationDose DATE DEFAULT NULL, CHANGE stool_collected stoolCollected INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE stool_id stoolId VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE stool_collect_date stoolCollectionDate DATE DEFAULT NULL, CHANGE disch_date dischargeDate DATE DEFAULT NULL, CHANGE disch_class_other dischargeClassOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE symp_dehydration symptomDehydrationAmount INT DEFAULT NULL COMMENT \'(DC2Type:Dehydration)\', CHANGE rehydration_type rehydrationType INT DEFAULT NULL COMMENT \'(DC2Type:Rehydration)\', CHANGE rv_received vaccinationReceived INT DEFAULT NULL COMMENT \'(DC2Type:RotavirusVaccinationReceived)\', CHANGE rv_type vaccinationType INT DEFAULT NULL COMMENT \'(DC2Type:RotavirusVaccinationType)\', CHANGE rv_doses doses INT DEFAULT NULL COMMENT \'(DC2Type:ThreeDoses)\', CHANGE disch_outcome dischargeOutcome INT DEFAULT NULL COMMENT \'(DC2Type:RotavirusDischargeOutcome)\'');
        $this->addSql('CREATE UNIQUE INDEX rotavirus_site_case_id_idx ON rotavirus_cases (site_id,caseId)');

        $this->addSql('ALTER TABLE ibd_national_labs CHANGE lab_id labId VARCHAR(255) DEFAULT NULL, CHANGE sample_collection_date sampleCollectionDate DATE DEFAULT NULL, CHANGE dt_sample_recd dateReceived DATE DEFAULT NULL, CHANGE method_used_pathogen_identify_other pathogenIdentifierOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE method_used_st_sg_other serotypeIdentifierOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE type_sample_recd sampleType INT DEFAULT NULL COMMENT \'(DC2Type:SampleType)\', CHANGE isolate_viable isolateViable INT DEFAULT NULL COMMENT \'(DC2Type:IsolateViable)\', CHANGE isolate_type isolateType INT DEFAULT NULL COMMENT \'(DC2Type:IsolateType)\', CHANGE method_used_pathogen_identify pathogenIdentifierMethod INT DEFAULT NULL COMMENT \'(DC2Type:PathogenIdentifier)\', CHANGE method_used_st_sg serotypeIdentifier INT DEFAULT NULL COMMENT \'(DC2Type:SerotypeIdentifier)\', CHANGE spn_serotype spnSerotype INT DEFAULT NULL COMMENT \'(DC2Type:SpnSerotype)\', CHANGE hi_serotype hiSerotype INT DEFAULT NULL COMMENT \'(DC2Type:HiSerotype)\', CHANGE nm_serogroup nmSerogroup INT DEFAULT NULL COMMENT \'(DC2Type:NmSerogroup)\', CHANGE Spn_lytA lytA NUMERIC(3, 1) DEFAULT NULL, CHANGE Nm_ctrA ctrA NUMERIC(3, 1) DEFAULT NULL, CHANGE nm_sodC sodC NUMERIC(3, 1) DEFAULT NULL, CHANGE hi_hpd1 hpd1 NUMERIC(3, 1) DEFAULT NULL, CHANGE hi_hpd3 hpd3 NUMERIC(3, 1) DEFAULT NULL, CHANGE hi_bexA bexA NUMERIC(3, 1) DEFAULT NULL, CHANGE humanDNA_RNAseP rNaseP NUMERIC(3, 1) DEFAULT NULL, CHANGE final_RL_result_detection finalresult INT DEFAULT NULL COMMENT \'(DC2Type:FinalResult)\'');

        $this->addSql('ALTER TABLE ibd_reference_labs DROP FOREIGN KEY FK_C975A0E29CCAEA5F');
        $this->addSql('DROP INDEX IDX_C975A0E29CCAEA5F ON ibd_reference_labs');
        $this->addSql('ALTER TABLE ibd_reference_labs CHANGE lab_id labId VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE rrl_id lab_id VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE Spn_lytA lytA NUMERIC(3, 1) DEFAULT NULL, CHANGE Nm_ctrA ctrA NUMERIC(3, 1) DEFAULT NULL, CHANGE nm_sodC sodC NUMERIC(3, 1) DEFAULT NULL, CHANGE hi_hpd1 hpd1 NUMERIC(3, 1) DEFAULT NULL, CHANGE hi_hpd3 hpd3 NUMERIC(3, 1) DEFAULT NULL, CHANGE hi_bexA bexA NUMERIC(3, 1) DEFAULT NULL, CHANGE humanDNA_RNAseP rNaseP NUMERIC(3, 1) DEFAULT NULL, CHANGE final_RL_result_detection finalresult INT DEFAULT NULL COMMENT \'(DC2Type:FinalResult)\', CHANGE sample_collection_date sampleCollectionDate DATE DEFAULT NULL, CHANGE dt_sample_recd dateReceived DATE DEFAULT NULL, CHANGE method_used_pathogen_identify_other pathogenIdentifierOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE method_used_st_sg_other serotypeIdentifierOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE type_sample_recd sampleType INT DEFAULT NULL COMMENT \'(DC2Type:SampleType)\', CHANGE isolate_viable isolateViable INT DEFAULT NULL COMMENT \'(DC2Type:IsolateViable)\', CHANGE isolate_type isolateType INT DEFAULT NULL COMMENT \'(DC2Type:IsolateType)\', CHANGE method_used_pathogen_identify pathogenIdentifierMethod INT DEFAULT NULL COMMENT \'(DC2Type:PathogenIdentifier)\', CHANGE method_used_st_sg serotypeIdentifier INT DEFAULT NULL COMMENT \'(DC2Type:SerotypeIdentifier)\', CHANGE spn_serotype spnSerotype INT DEFAULT NULL COMMENT \'(DC2Type:SpnSerotype)\', CHANGE hi_serotype hiSerotype INT DEFAULT NULL COMMENT \'(DC2Type:HiSerotype)\', CHANGE nm_serogroup nmSerogroup INT DEFAULT NULL COMMENT \'(DC2Type:NmSerogroup)\'');
        $this->addSql('ALTER TABLE ibd_reference_labs ADD CONSTRAINT FK_C975A0E2628913D5 FOREIGN KEY (lab_id) REFERENCES reference_labs (id)');
        $this->addSql('CREATE INDEX IDX_C975A0E2628913D5 ON ibd_reference_labs (lab_id)');

        $this->addSql('ALTER TABLE ibd_site_labs CHANGE rl_csf_date csfSentToRRLDate DATE DEFAULT NULL, CHANGE rl_isol_csf_date csfIsolSentToRRLDate DATE DEFAULT NULL, CHANGE rl_isol_blood_date bloodIsolSentToRRLDate DATE DEFAULT NULL, CHANGE rl_broth_date brothSentToRRLDate DATE DEFAULT NULL, CHANGE csf_lab_date csfDateTime DATETIME DEFAULT NULL, CHANGE csf_id csfId VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE blood_id bloodId VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE csf_wcc csfWcc INT DEFAULT NULL, CHANGE csf_glucose csfGlucose INT DEFAULT NULL, CHANGE csf_protein csfProtein INT DEFAULT NULL, CHANGE csf_cult_done csfCultDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csf_gram_done csfGramDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csf_binax_done csfBinaxDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csf_lat_done csfLatDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csf_pcr_done csfPcrDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE csf_cult_result csfCultResult INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE csf_cult_other csfCultOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE csf_cult_contaminant csfCultContaminant VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE csf_gram_stain csfGramStain INT DEFAULT NULL COMMENT \'(DC2Type:GramStain)\', CHANGE csf_gram_result csfGramResult INT DEFAULT NULL COMMENT \'(DC2Type:GramStainResult)\', CHANGE csf_gram_other csfGramOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE csf_lat_other csfLatOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE csf_pcr_result csfPcrResult INT DEFAULT NULL COMMENT \'(DC2Type:PCRResult)\', CHANGE csf_pcr_other csfPcrOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE csf_store csfStore INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE isol_store isolStore INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', ADD spnSerotypeOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, ADD hiSerotypeOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, ADD nmSerogroupOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE blood_cult_done bloodCultDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE blood_gram_done bloodGramDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE blood_pcr_done bloodPcrDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE other_cult_done otherCultDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE other_cult_result otherCultResult INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE other_cult_other otherCultOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE other_test_done otherTestDone INT DEFAULT NULL COMMENT \'(DC2Type:TripleChoice)\', CHANGE other_test_result otherTestResult INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE other_test_other otherTestOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE blood_cult_result bloodCultResult INT DEFAULT NULL COMMENT \'(DC2Type:CultureResult)\', CHANGE blood_cult_other bloodCultOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE blood_gram_stain bloodGramStain INT DEFAULT NULL COMMENT \'(DC2Type:GramStain)\', CHANGE blood_gram_result bloodGramResult INT DEFAULT NULL COMMENT \'(DC2Type:GramStainResult)\', CHANGE blood_gram_other bloodGramOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE blood_pcr_result bloodPcrResult INT DEFAULT NULL COMMENT \'(DC2Type:PCRResult)\', CHANGE blood_pcr_other bloodPcrOther VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, DROP csf_lab_time, CHANGE csf_binax_result csfBinaxResult INT DEFAULT NULL COMMENT \'(DC2Type:BinaxResult)\', CHANGE csf_lat_result csfLatResult INT DEFAULT NULL COMMENT \'(DC2Type:LatResult)\', ADD spnSerotype INT DEFAULT NULL COMMENT \'(DC2Type:SpnSerotype)\', ADD hiSerotype INT DEFAULT NULL COMMENT \'(DC2Type:HiSerotype)\', ADD nmSerogroup INT DEFAULT NULL COMMENT \'(DC2Type:NmSerogroup)\'');

        $this->addSql('ALTER TABLE rota_national_labs CHANGE lab_id labId VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci,CHANGE dt_sample_recd dateReceived DATE DEFAULT NULL, CHANGE dt_gt genotypingDate DATE DEFAULT NULL, CHANGE gt_result_g_specify genotypingResultGSpecify VARCHAR(255) DEFAULT NULL, CHANGE gt_result_p_specify genotypeResultPSpecify VARCHAR(255) DEFAULT NULL, ADD genotypeResultSentToCountry DATE DEFAULT NULL, ADD genotypeResultSentToWHO DATE DEFAULT NULL, CHANGE gt_result_g genotypingresultg INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultG)\', CHANGE gt_result_p genotyperesultp INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultP)\', CHANGE pcr_vp6_result pcrvp6result INT DEFAULT NULL COMMENT \'(DC2Type:ElisaResult)\'');

        $this->addSql('ALTER TABLE rota_reference_labs DROP FOREIGN KEY FK_BC5C4EE19CCAEA5F');
        $this->addSql('DROP INDEX IDX_BC5C4EE19CCAEA5F ON rota_reference_labs');

        $this->addSql('ALTER TABLE rota_reference_labs CHANGE lab_id labId VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci, CHANGE rrl_id lab_id VARCHAR(255) DEFAULT NULL COLLATE utf8_unicode_ci,CHANGE dt_sample_recd dateReceived DATE DEFAULT NULL, CHANGE dt_gt genotypingDate DATE DEFAULT NULL, CHANGE gt_result_g_specify genotypingResultGSpecify VARCHAR(255) DEFAULT NULL, CHANGE gt_result_p_specify genotypeResultPSpecify VARCHAR(255) DEFAULT NULL, ADD genotypeResultSentToCountry DATE DEFAULT NULL, ADD genotypeResultSentToWHO DATE DEFAULT NULL, CHANGE gt_result_g genotypingresultg INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultG)\', CHANGE gt_result_p genotyperesultp INT DEFAULT NULL COMMENT \'(DC2Type:GenotypeResultP)\', CHANGE pcr_vp6_result pcrvp6result INT DEFAULT NULL COMMENT \'(DC2Type:ElisaResult)\'');
        $this->addSql('ALTER TABLE rota_reference_labs ADD CONSTRAINT FK_BC5C4EE1628913D5 FOREIGN KEY (lab_id) REFERENCES reference_labs (id)');
        $this->addSql('CREATE INDEX IDX_BC5C4EE1628913D5 ON rota_reference_labs (lab_id)');
    }
}
