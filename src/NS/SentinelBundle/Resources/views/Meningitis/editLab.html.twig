{%extends "NSSentinelBundle::layout.html.twig" %}

{% block pagetitle %}
{{'Edit Lab For Case %id%'|trans({'%id%': form.vars.value.case.caseId})}}
{% endblock %}

{%block pageactions %}
<div class="pull-right">{{case_big_actions(form.vars.value.case,true)}}</div>
{%endblock %}

{% block body %}
{{form_errors(form)}}
<form method="POST" action="{{path('meningitisLabEdit',{'id':id})}}" novalidate>
<div class="row">
    <div class="col-sm-12">
        <div class="tabbable">
            <ul class="nav nav-tabs padding-12 tab-color-blue background-blue" id="myTab4">
                <li class="active"><a data-toggle="tab" href="#csf">{{'CSF'|trans}}</a></li>
                <li><a data-toggle="tab" href="#blood">{{'Blood'|trans}}</a></li>
                <li><a data-toggle="tab" href="#other">{{'Other Fluids'|trans}}</a></li>
                <li><a data-toggle="tab" href="#sero">{{'Serotype Results'|trans}}</a></li>
            </ul>

            <div class="tab-content">
                <div id="csf" class="tab-pane active">
                    <h4 class="header smaller lighter">Site</h4>
                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfSiteDateTime)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfSiteId)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfSiteDNAExtractionDate)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfSiteDNAVolume)}}
                        </div>
                    </div>

                    {% if form.csfSentToNL is defined %}
                    <h4 class="header smaller lighter">NL</h4>
                        <div class="row">
                            <div class="col-sm-4">
                                {{form_row(form.csfSentToNL)}}
                                {{form_row(form.csfDateSentToNL)}}
                            </div>
                            <div class="col-sm-4">
                                {{form_row(form.csfNLId)}}
                                {{form_row(form.csfNLDate)}}
                            </div>
                            <div class="col-sm-4">
                                {{form_row(form.csfNLDNAExtractionDate)}}
                                {{form_row(form.csfNLDNAVolume)}}
                            </div>
                        </div>
                    {%endif%}
                    {% if form.csfSentToRRL is defined %}
                        <h4 class="header smaller lighter">RRL</h4>
                        <div class="row">
                            <div class="col-sm-4">
                                {{form_row(form.csfSentToRRL)}}
                                {{form_row(form.csfDateSentToRRL)}}
                            </div>
                            <div class="col-sm-4">
                                {{form_row(form.csfRRLId)}}
                                {{form_row(form.csfRRLDate)}}
                            </div>
                            <div class="col-sm-4">
                                {{form_row(form.csfRRLDNAExtractionDate)}}
                                {{form_row(form.csfRRLDNAVolume)}}
                            </div>
                        </div>
                    {%endif%}
                    <h4 class="header smaller lighter">Results</h4>
                    
                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfWcc)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfGlucose)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfProtein)}}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfGramDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfGramResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfGramResultOrganism)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfGramOther)}}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfBinaxDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfBinaxResult)}}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfLatDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfLatResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfLatOther)}}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfCultDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfCultResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfCultOther)}}
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfPcrDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfPcrResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfPcrOther)}}
                        </div>
                    </div>
                    <h4 class="header smaller lighter">Sample Storage</h4>

                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.csfStore)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.csfIsolStore)}}
                        </div>
                    </div>
                </div>

                <div id="blood" class="tab-pane">
                    <h4 class="header smaller lighter">Site</h4>
                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.bloodSiteDate)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodSiteId)}}
                        </div>
                    </div>

                    {% if form.bloodSentToNL is defined %}
                    <h4 class="header smaller lighter">NL</h4>
                    <div class="row">
                        <div class="col-sm-3">
                        {{form_row(form.bloodSentToNL)}}
                        </div>
                        <div class="col-sm-3">
                        {{form_row(form.bloodDateSentToNL)}}
                        </div>
                        <div class="col-sm-3">
                        {{form_row(form.bloodNLId)}}
                        </div>
                        <div class="col-sm-3">
                        {{form_row(form.bloodNLDate)}}
                        </div>
                    </div>
                    {%endif %}

                    {% if form.bloodSentToRRL is defined %}
                        <h4 class="header smaller lighter">RRL</h4>
                        <div class="row">
                            <div class="col-sm-3">
                                {{form_row(form.bloodSentToRRL)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.bloodDateSentToRRL)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.bloodRRLId)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.bloodRRLDate)}}
                            </div>
                        </div>
                    {%endif %}

                    <h4 class="header smaller lighter">Blood Culture</h4>
                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.bloodCultDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodCultResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodCultOther)}}
                        </div>
                    </div>

                    <h4 class="header smaller lighter">Gram Stain</h4>
                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.bloodGramDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodGramResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodGramResultOrganism)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodGramOther)}}
                        </div>
                    </div>

                    <h4 class="header smaller lighter">PCR Result</h4>
                    <div class="row">
                        <div class="col-sm-3">
                            {{form_row(form.bloodPcrDone)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodPcrResult)}}
                        </div>
                        <div class="col-sm-3">
                            {{form_row(form.bloodPcrOther)}}
                        </div>
                    </div>
                </div>

                <div id="sero" class="tab-pane">
                    <div class="row">
                        <div class="col-sm-4">
                            {{form_row(form.pathogenIdentifierMethod)}}
                            {{form_row(form.pathogenIdentifierOther)}}
                            {{form_row(form.serotypeIdentifier)}}
                            {{form_row(form.serotypeIdentifierOther)}}
                        </div>
                        <div class="col-sm-4">
                            {{form_row(form.lytA)}}
                            {{form_row(form.sodC)}}
                            {{form_row(form.hpd)}}
                            {{form_row(form.rNaseP)}}                            
                        </div>
                        <div class="col-sm-4">
                            {{form_row(form.spnSerotype)}}
                            {{form_row(form.spnSerotypeOther)}}
                            {{form_row(form.hiSerotype)}}
                            {{form_row(form.hiSerotypeOther)}}
                            {{form_row(form.nmSerogroup)}}
                            {{form_row(form.nmSerogroupOther)}}
                        </div>
                    </div>
                </div>

                <div id="other" class="tab-pane">
                    <h4 class="header smaller lighter">Site</h4>
                    <div class="row">
                        <div class="col-sm-4">
                        {{form_row(form.otherSiteId)}}
                        </div>
                        <div class="col-sm-4">
                        {{form_row(form.otherSiteDate)}}
                        </div>
                    </div>
                    {% if form.otherSentToNL is defined %}
                        <h4 class="header smaller lighter">RRL</h4>
                        <div class="row">
                            <div class="col-sm-3">
                                {{form_row(form.otherSentToNL)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.otherNLId)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.otherDateSentToNL)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.otherNLDate)}}
                            </div>
                        </div>
                    {%endif %}

                    {% if form.otherSentToRRL is defined %}
                        <h4 class="header smaller lighter" >RRL</h4>
                        <div class="row">
                            <div class="col-sm-3">
                                {{form_row(form.otherSentToRRL)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.otherRRLId)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.otherDateSentToRRL)}}
                            </div>
                            <div class="col-sm-3">
                                {{form_row(form.otherRRLDate)}}
                            </div>
                        </div>
                    {%endif %}

                    <h4 class="header smaller lighter">Results</h3>
                    <div class="row">
                        <div class="col-sm-4">
                            {{form_row(form.otherCultDone)}}
                        </div>
                        <div class="col-sm-4">
                            {{form_row(form.otherCultResult)}}                    
                        </div>
                        <div class="col-sm-4">
                            {{form_row(form.otherCultOther)}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-actions center">
            <a href="{{path('meningitisIndex')}}" class="btn btn-sm btn-danger">{{'Cancel'|trans}}</a> <button type="submit" class="btn btn-sm btn-success">{{'Save'|trans}}<i class="icon-arrow-right icon-on-right bigger-110"></i></button>
        </div>
    </div>
</div>
{{form_rest(form)}}

</form>
{% endblock %}
