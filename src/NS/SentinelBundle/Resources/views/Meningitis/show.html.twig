{%extends "NSSentinelBundle::layout.html.twig" %}
{% block pagetitle %}{{'View Case %id%'|trans({'%id%': record.id})}}{%endblock %}

{%block pageactions %}
<div class="pull-right">{{case_big_actions(record,true)}}</div>
{%endblock %}

{% block body %}
<div class="col-sm-12">
    <div class="tabbable tabs-left">
        <ul class="nav nav-tabs" id="myTab2">
            <li class="active"><a data-toggle="tab" href="#demographics">{{'Case Based Demographics'|trans}}</a></li>
            <li><a data-toggle="tab" href="#vacination">{{'Vaccination History'|trans}}</a></li>
            <li><a data-toggle="tab" href="#clinical">{{'Clinical Data'|trans}}</a></li>
            <li><a data-toggle="tab" href="#meningitis">{{'Meningitis'|trans}}</a></li>
            {% if record.country.getTracksPneumonia %}
            <li><a data-toggle="tab" href="#pneumonia">{{'Pneumonia / Sepsis'|trans}}</a></li>
            {% endif %}
            <li><a data-toggle="tab" href="#collectionData">{{'Specimen Collection Data'|trans}}</a></li>
            {% if is_granted('ROLE_CAN_SEE_LAB') %}
            <li><a data-toggle="tab" href="#labData">{{'Site Lab'|trans}}</a></li>
            {% endif %}
            {% if record.sentToReferenceLab and is_granted('ROLE_CAN_SEE_RRL') %}
            <li><a data-toggle="tab" href="#rrlData">{{'RRL'|trans}}</a></li>
            {% endif %}
            {% if record.sentToNationalLab and is_granted('ROLE_CAN_SEE_NL') %}
            <li><a data-toggle="tab" href="#nlData">{{'NL'|trans}}</a></li>
            {% endif %}
        </ul>

        <div class="tab-content">
            <div id="demographics" class="tab-pane active">
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>{{'meningitis-form.id'|trans}}</th>
                        <td>{{record.id}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.case-id'|trans}}</th>
                        <td>{{record.caseId}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.dob'|trans}}</th>
                        <td>{{record.dob|date}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.age'|trans}}</th>
                        <td>{{record.age}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.gender'|trans}}</th>
                        <td>{{record.gender}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.first-name'|trans}}</th>
                        <td>{{record.firstName}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.last-name'|trans}}</th>
                        <td>{{record.lastName}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.parental-name'|trans}}</th>
                        <td>{{record.parentalName}}</td>
                    </tr>
                </table>
            </div>

            <div id="vacination" class="tab-pane">
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>{{'meningitis-form.hib-received'|trans}}</th>
                        <td>{{record.hibReceived}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.hib-doses'|trans}}</th>
                        <td>{{record.hibDoses}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.pcv-received'|trans}}</th>
                        <td>{{record.pcvReceived}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.pcv-doses'|trans}}</th>
                        <td>{{record.pcvDoses}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.mening-received'|trans}}</th>
                        <td>{{record.meningReceived}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-type'|trans}}</th>
                        <td>{{record.meningType}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.meningMostRecentDose'|trans}}</th>
                        <td>{{record.meningMostRecentDose}}</td>
                    </tr>
                </table>
            </div>

            <div id="clinical" class="tab-pane">
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>{{'meningitis-form.adm-date'|trans}}</th>
                        <td>{{record.admDate|date}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.adm-dx'|trans}}</th>
                        <td>{{record.admDx}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.adm-dx-other'|trans}}</th>
                        <td>{{record.admDxOther}}</td>
                    </tr>
                </table>
            </div>

            <div id="meningitis" class="tab-pane">
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>{{'meningitis-form.men-seizures'|trans}}</th>
                        <td>{{record.menSeizures}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-fever'|trans}}</th>
                        <td>{{record.menFever}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-alt-conscious'|trans}}</th>
                        <td>{{record.menAltConscious}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-inability-feed'|trans}}</th>
                        <td>{{record.menInabilityFeed}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-neck-stiff'|trans}}</th>
                        <td>{{record.menNeckStiff}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-rash'|trans}}</th>
                        <td>{{record.menRash}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-fontanelle-bulge'|trans}}</th>
                        <td>{{record.menFontanelleBulge}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.men-lethargy'|trans}}</th>
                        <td>{{record.menLethargy}}</td>
                    </tr>
                </table>
            </div>

            <div id="pneumonia" class="tab-pane">
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>{{'meningitis-form.pneu-diff-breathe'|trans}}</th>
                        <td>{{record.pneuDiffBreathe}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.pneu-chest-indraw'|trans}}</th>
                        <td>{{record.pneuChestIndraw}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.pneu-cough'|trans}}</th>
                        <td>{{record.pneuCough}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.pneu-cyanosis'|trans}}</th>
                        <td>{{record.pneuCyanosis}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.pneu-resp-rate'|trans}}</th>
                        <td>{{record.pneuRespRate}}</td>
                    </tr>
                    <tr><th>{{'meningitis-form.cxr-done'|trans}}</th><td>{{record.cxrDone}}</td></tr>
                    <tr><th>{{'meningitis-form.cxr-result'|trans}}</th><td>{{record.cxrResult}}</td></tr>
                    <tr><th>{{'meningitis-form.cxr-additional-result'|trans}}</th><td>{{record.cxrAdditionalResult}}</td></tr>
                </table>
            </div>
            
            <div id="collectionData" class="tab-pane">
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>{{'meningitis-form.csf-collected'|trans}}</th>
                        <td>{{record.csfCollected}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.csf-collect-datetime'|trans}}</th>
                        <td>{{record.csfCollectDateTime|date}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.csf-appearance'|trans}}</th>
                        <td>{{record.csfAppearance}}</td>
                    </tr>
                    <tr>
                        <th>{{'meningitis-form.blood-collected'|trans}}</th>
                        <td>{{record.bloodCollected}}</td>
                    </tr>
                </table>
            </div>
            <div id="labData" class="tab-pane">
                <table class="table table-striped table-bordered table-hover">
                    {% if record.hasLab %}
                    <tr>
                        <th>{{'meningitis.site-lab-status'|trans}}</th>
                        <td>{{'Yes'|trans}}</td>
                    </tr>
                    <tr><th>{{'meningitis-form.csf-lab-datetime'|trans}}</th><td>{{record.lab.csfLabDateTime}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-wcc'|trans}}</th><td>{{record.lab.csfWcc}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-glucose'|trans}}</th><td>{{record.lab.csfGlucose}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-protein'|trans}}</th><td>{{record.lab.csfProtein}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-cult-done'|trans}}</th><td>{{record.lab.csfCultDone}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-gram-done'|trans}}</th><td>{{record.lab.csfGramDone}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-binax-done'|trans}}</th><td>{{record.lab.csfBinaxDone}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-lat-done'|trans}}</th><td>{{record.lab.csfLatDone}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-pcr-done'|trans}}</th><td>{{record.lab.csfPcrDone}}</td></tr>
                    <tr><th>{{'meningitis-form.blood-cult-done'|trans}}</th><td>{{record.lab.bloodCultDone}}</td></tr>
                    <tr><th>{{'meningitis-form.blood-gram-done'|trans}}</th><td>{{record.lab.bloodGramDone}}</td></tr>
                    <tr><th>{{'meningitis-form.blood-pcr-done'|trans}}</th><td>{{record.lab.bloodPcrDone}}</td></tr>
                    <tr><th>{{'meningitis-form.other-culture'|trans}}</th><td>{{record.lab.otherCultDone}}</td></tr>
                    <tr><th>{{'meningitis-form.other-tests'|trans}}</th><td>{{record.lab.otherTestDone}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-culture-other'|trans}}</th><td>{{record.lab.csfCultOther}}</td></tr>
                    <tr><th>{{'meningitis-form.blood-cult-other'|trans}}</th><td>{{record.lab.bloodCultOther}}</td></tr>
                    <tr><th>{{'meningitis-form.blood-gram-result'|trans}}</th><td>{{record.lab.bloodGramResult}}</td></tr>
                    <tr><th>{{'meningitis-form.blood-pcr-result'|trans}}</th><td>{{record.lab.bloodPcrResult}}</td></tr>
                    <tr><th>{{'meningitis-form.other-cult-result'|trans}}</th><td>{{record.lab.otherCultResult}}</td></tr>
                    <tr><th>{{'meningitis-form.other-cult-other'|trans}}</th><td>{{record.lab.otherCultOther}}</td></tr>
                    <tr><th>{{'meningitis-form.rrl-csf-date'|trans}}</th><td>{{record.lab.rrlCsfDate}}</td></tr>
                    <tr><th>{{'meningitis-form.rrl-isol-date'|trans}}</th><td>{{record.lab.rrlIsolDate}}</td></tr>
                    <tr><th>{{'meningitis-form.csf-store'|trans}}</th><td>{{record.lab.csfStore}}</td></tr>
                    <tr><th>{{'meningitis-form.isol-store'|trans}}</th><td>{{record.lab.isolStore}}</td></tr>
                    <tr><th>{{'meningitis-form.spn-serotype'|trans}}</th><td>{{record.lab.spnSerotype}}</td></tr>
                    <tr><th>{{'meningitis-form.hi-serotype'|trans}}</th><td>{{record.lab.hiSerotype}}</td></tr>
                    <tr><th>{{'meningitis-form.nm-serogroup'|trans}}</th><td>{{record.lab.nmSerogroup}}</td></tr>
                    {% else %}
                    <tr>
                        <th>{{'meningitis.has-site-lab'|trans}}</th>
                        <td>{{'No'|trans}}</td>
                    </tr>
                    {% endif %}
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}
